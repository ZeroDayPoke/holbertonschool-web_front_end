<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 6</title>
    <script
      src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
      integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
      crossorigin="anonymous"
    ></script>
    <script type="application/javascript">
      $(document).ready(function () {
        function createFamilyTree() {
          $("<table>")
            .append(
              $("<thead>").append(
                $("<tr>").append(
                  $("<th>").text("Firstname"),
                  $("<th>").text("Lastname"),
                  $("<th>")
                )
              ),
              $("<tbody>")
            )
            .appendTo("body");
        }
        function addNewMember(firstName, lastName, position) {
          var row = $("<tr>").append(
            $("<td>").text(firstName),
            $("<td>").text(lastName),
            $("<td>")
              .text("x")
              .css("background-color", "orange")
              .click(function () {
                $(this).parent().remove();
              })
          );
          if (position === "before") {
            $("tbody").prepend(row);
          } else {
            $("tbody").append(row);
          }
        }
        function createForm() {
          var form = $("<form>").append(
            $("<input>").attr("type", "text"),
            $("<input>").attr("type", "text"),
            $("<select>").append(
              $("<option>").val("before").text("Before"),
              $("<option>").val("after").text("After")
            ),
            $("<input>").attr("type", "submit")
          );
          form.submit(function (e) {
            e.preventDefault();
            var firstName = $("input:nth-of-type(1)").val();
            var lastName = $("input:nth-of-type(2)").val();
            var position = $("select").val();
            addNewMember(firstName, lastName, position);
          });

          form.insertBefore("table");
        }
        createFamilyTree();
        createForm();
      });
    </script>
  </head>
  <body></body>
</html>
