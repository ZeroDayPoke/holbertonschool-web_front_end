<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>10. Another Get API</title>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script type="application/javascript">
      $(document).ready(function () {
        function addPostRow(data) {
          var paragraph = $("<p>").html(
            "<span>Post created with id " +
              data.id +
              ", title: " +
              data.title +
              ", author: " +
              data.author +
              "</span>"
          );
          $("body").append(paragraph);
        }
        function listPosts() {
          $.get("http://localhost:3355/posts", function (data) {
            data.forEach(function (post) {
              addPostRow(post);
            });
          }).fail(function () {
            alert("Server Error");
          });
        }
        listPosts();
      });
    </script>
  </head>
  <body></body>
</html>
